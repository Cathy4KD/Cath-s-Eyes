<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion ArrÃªt Annuel</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a237e">
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ArrÃªt Annuel">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>ğŸ”§ ArrÃªt Annuel</h2>
            <span class="version">v2.0</span>
        </div>

        <ul class="nav-menu">
            <li class="nav-item active" data-screen="dashboard">
                <span class="nav-icon">ğŸ“Š</span>
                <span class="nav-text">Dashboard</span>
            </li>
            <li class="nav-item" data-screen="travaux">
                <span class="nav-icon">ğŸ“‹</span>
                <span class="nav-text">Liste Travaux</span>
            </li>

            <li class="nav-section-title">Phases principales</li>

            <li class="nav-item nav-item-main" data-screen="preparation">
                <span class="nav-icon">ğŸ“</span>
                <span class="nav-text">PrÃ©paration</span>
                <span class="nav-badge">1</span>
            </li>
            <li class="nav-item nav-item-main" data-screen="execution">
                <span class="nav-icon">âš¡</span>
                <span class="nav-text">ExÃ©cution</span>
                <span class="nav-badge">2</span>
            </li>
            <li class="nav-item nav-item-main" data-screen="postmortem">
                <span class="nav-icon">ğŸ“ˆ</span>
                <span class="nav-text">Post-Mortem</span>
                <span class="nav-badge">3</span>
            </li>

            <li class="nav-section-title">Outils</li>

            <li class="nav-item" data-screen="rapports">
                <span class="nav-icon">ğŸ“„</span>
                <span class="nav-text">Rapports</span>
            </li>
            <li class="nav-item" data-screen="import">
                <span class="nav-icon">ğŸ“¥</span>
                <span class="nav-text">Import DonnÃ©es</span>
            </li>
            <li class="nav-item" data-screen="pieces">
                <span class="nav-icon">ğŸ”©</span>
                <span class="nav-text">PiÃ¨ces</span>
            </li>

            <li class="nav-separator"></li>

            <li class="nav-item" data-screen="avis-syndicaux">
                <span class="nav-icon">ğŸ“¢</span>
                <span class="nav-text">Avis syndicaux</span>
            </li>
            <li class="nav-item" data-screen="reunions">
                <span class="nav-icon">ğŸ‘¥</span>
                <span class="nav-text">RÃ©unions</span>
            </li>
            <li class="nav-item" data-screen="parametres">
                <span class="nav-icon">âš™ï¸</span>
                <span class="nav-text">ParamÃ¨tres</span>
            </li>

        </ul>

        <div class="sidebar-footer">
            <div class="app-links">
                <a href="https://cathy4kd.github.io/Kitting_acierie/" target="_blank" class="app-link-btn" title="Ouvrir Kitting AciÃ©rie" id="kittingLink" onclick="KittingNotifications.markAsSeen()">
                    <span class="app-link-icon">ğŸ“¦</span>
                    <span class="app-link-text">Kitting</span>
                    <span class="kitting-notification-badge" id="kittingBadge" style="display: none;">0</span>
                </a>
                <a href="https://prospect.riotinto.org/irj/servlet/prt/portal/prtroot/pcd%213aportal_content%212frt%212fent%212fgen%212fivu%212fStandard_Transaction?sap-config-mode=true" target="_blank" class="app-link-btn sap-link" title="Ouvrir SAP">
                    <span class="app-link-icon">ğŸ”·</span>
                    <span class="app-link-text">SAP</span>
                </a>
            </div>
            <div class="data-status" id="dataStatus" onclick="DataManager.forceSyncFirebase()" title="Cliquer pour synchroniser">
                <span class="status-dot offline"></span>
                <span>Aucune donnÃ©e</span>
                <span class="sync-icon">ğŸ”„</span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="menu-toggle" id="menuToggle">â˜°</button>
                <h1 id="pageTitle">Dashboard</h1>
            </div>
            <div class="header-right">
                <div class="search-box">
                    <input type="text" id="globalSearch" placeholder="Rechercher un OT, Ã©quipement...">
                </div>
                <div class="header-info">
                    <span id="lastUpdate">DerniÃ¨re MAJ: --</span>
                </div>
            </div>
        </header>

        <!-- Content Area -->
        <div class="content-area" id="contentArea">
            <!-- Les Ã©crans seront chargÃ©s dynamiquement ici -->
        </div>
    </main>

    <!-- Modal pour dÃ©tails -->
    <div class="modal" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">DÃ©tail</h2>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="firebase.js"></script>
    <script src="data.js"></script>
    <script src="import.js"></script>
    <script src="screens.js"></script>
    <script src="processus.js"></script>
    <script src="screen-preparation.js"></script>
    <script src="screen-travail-detail.js"></script>
    <script src="reports.js"></script>
    <script src="app.js"></script>
</body>
</html>
